{"openapi":"3.1.0","info":{"title":"Cert-Manager API","description":"Certificate Authority and DNS Management API","version":"2.0.0"},"paths":{"/":{"get":{"summary":"Root","description":"Root endpoint with API information","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/generate-cert":{"get":{"summary":"Generate Certificate Info","description":"Get information about the certificate generation endpoint","operationId":"generate_certificate_info_api_generate_cert_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"summary":"Generate Certificate","description":"Generate a new SSL certificate","operationId":"generate_certificate_api_generate_cert_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CertificateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Generate Certificate Api Generate Cert Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/sign-csr":{"get":{"summary":"Sign Csr Info","description":"Get information about the CSR signing endpoint","operationId":"sign_csr_info_api_sign_csr_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"summary":"Sign Csr","description":"Sign a Certificate Signing Request","operationId":"sign_csr_api_sign_csr_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_sign_csr_api_sign_csr_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/ca":{"get":{"summary":"Get Ca Status","description":"Get Certificate Authority status","operationId":"get_ca_status_api_ca_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"summary":"Setup Ca","description":"Set up Certificate Authority infrastructure","operationId":"setup_ca_api_ca_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CASetupRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/download-cert/{domain}":{"get":{"summary":"Download Certificate","description":"Download certificate files","operationId":"download_certificate_api_download_cert__domain__get","parameters":[{"name":"domain","in":"path","required":true,"schema":{"type":"string","title":"Domain"}},{"name":"type","in":"query","required":false,"schema":{"type":"string","default":"cert","title":"Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/download/{type}":{"get":{"summary":"Download Ca Certificate","description":"Download CA certificate files (root, intermediate, or chain)","operationId":"download_ca_certificate_api_download__type__get","parameters":[{"name":"type","in":"path","required":true,"schema":{"type":"string","title":"Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/samba-status":{"get":{"summary":"Get Samba Status","description":"Get Samba service status","operationId":"get_samba_status_api_samba_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/dns-record":{"post":{"summary":"Manage Dns Record","description":"Manage DNS records on BIND server","operationId":"manage_dns_record_api_dns_record_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DNSRecordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/chain-info":{"get":{"summary":"Get Chain Info","description":"Get certificate chain information","operationId":"get_chain_info_api_chain_info_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/setup-chain":{"get":{"summary":"Get Setup Chain Info","description":"Get information about certificate chain setup","operationId":"get_setup_chain_info_api_setup_chain_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"summary":"Setup Chain","description":"Setup and verify certificate chain","operationId":"setup_chain_api_setup_chain_post","requestBody":{"content":{"application/json":{"schema":{"type":"object","title":"Request"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"summary":"Health Check","description":"Health check endpoint","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"Body_sign_csr_api_sign_csr_post":{"properties":{"csr":{"type":"string","format":"binary","title":"Csr","description":"CSR file"},"caName":{"type":"string","title":"Caname","description":"CA name","default":"intermediate"},"validityDays":{"type":"integer","title":"Validitydays","description":"Validity period in days","default":365},"sans":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sans","description":"Subject Alternative Names"}},"type":"object","required":["csr"],"title":"Body_sign_csr_api_sign_csr_post"},"CASetupRequest":{"properties":{"rootPassword":{"type":"string","title":"Rootpassword","description":"Password for root CA private key"},"intermediatePassword":{"type":"string","title":"Intermediatepassword","description":"Password for intermediate CA private key"}},"type":"object","required":["rootPassword","intermediatePassword"],"title":"CASetupRequest"},"CertificateRequest":{"properties":{"serverName":{"type":"string","title":"Servername","description":"Domain or server name"},"serverIp":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Serverip","description":"IP address for SAN"},"caPassword":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Capassword","description":"CA password if required"},"certificateType":{"type":"string","title":"Certificatetype","description":"Type of certificate","default":"server"},"outputFormat":{"type":"string","title":"Outputformat","description":"Output format","default":"pem"},"keySize":{"type":"integer","title":"Keysize","description":"Key size in bits","default":2048},"validityDays":{"type":"integer","title":"Validitydays","description":"Certificate validity period","default":365},"includeContent":{"type":"boolean","title":"Includecontent","description":"Include certificate content in response","default":false}},"type":"object","required":["serverName"],"title":"CertificateRequest"},"DNSRecordRequest":{"properties":{"action":{"type":"string","title":"Action","description":"DNS record action (add, update, delete)"},"domain":{"type":"string","title":"Domain","description":"Domain name"},"record_type":{"type":"string","title":"Record Type","description":"DNS record type"},"value":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Value","description":"DNS record value"},"ttl":{"type":"integer","title":"Ttl","description":"Time to live in seconds","default":300}},"type":"object","required":["action","domain","record_type"],"title":"DNSRecordRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}